"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/@tippyjs";
exports.ids = ["vendor-chunks/@tippyjs"];
exports.modules = {

/***/ "(ssr)/./node_modules/@tippyjs/react/dist/tippy-react.esm.js":
/*!*************************************************************!*\
  !*** ./node_modules/@tippyjs/react/dist/tippy-react.esm.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   tippy: () => (/* reexport safe */ tippy_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   useSingleton: () => (/* binding */ useSingleton)\n/* harmony export */ });\n/* harmony import */ var tippy_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! tippy.js */ \"(ssr)/./node_modules/tippy.js/dist/tippy.esm.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ \"(ssr)/./node_modules/next/dist/server/future/route-modules/app-page/vendored/ssr/react-dom.js\");\n/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\n\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\nfunction preserveRef(ref, node) {\n  if (ref) {\n    if (typeof ref === 'function') {\n      ref(node);\n    }\n\n    if ({}.hasOwnProperty.call(ref, 'current')) {\n      ref.current = node;\n    }\n  }\n}\nfunction ssrSafeCreateDiv() {\n  return isBrowser && document.createElement('div');\n}\nfunction toDataAttributes(attrs) {\n  var dataAttrs = {\n    'data-placement': attrs.placement\n  };\n\n  if (attrs.referenceHidden) {\n    dataAttrs['data-reference-hidden'] = '';\n  }\n\n  if (attrs.escaped) {\n    dataAttrs['data-escaped'] = '';\n  }\n\n  return dataAttrs;\n}\n\nfunction deepEqual(x, y) {\n  if (x === y) {\n    return true;\n  } else if (typeof x === 'object' && x != null && typeof y === 'object' && y != null) {\n    if (Object.keys(x).length !== Object.keys(y).length) {\n      return false;\n    }\n\n    for (var prop in x) {\n      if (y.hasOwnProperty(prop)) {\n        if (!deepEqual(x[prop], y[prop])) {\n          return false;\n        }\n      } else {\n        return false;\n      }\n    }\n\n    return true;\n  } else {\n    return false;\n  }\n}\n\nfunction uniqueByShape(arr) {\n  var output = [];\n  arr.forEach(function (item) {\n    if (!output.find(function (outputItem) {\n      return deepEqual(item, outputItem);\n    })) {\n      output.push(item);\n    }\n  });\n  return output;\n}\nfunction deepPreserveProps(instanceProps, componentProps) {\n  var _instanceProps$popper, _componentProps$poppe;\n\n  return Object.assign({}, componentProps, {\n    popperOptions: Object.assign({}, instanceProps.popperOptions, componentProps.popperOptions, {\n      modifiers: uniqueByShape([].concat(((_instanceProps$popper = instanceProps.popperOptions) == null ? void 0 : _instanceProps$popper.modifiers) || [], ((_componentProps$poppe = componentProps.popperOptions) == null ? void 0 : _componentProps$poppe.modifiers) || []))\n    })\n  });\n}\n\nvar useIsomorphicLayoutEffect = isBrowser ? react__WEBPACK_IMPORTED_MODULE_1__.useLayoutEffect : react__WEBPACK_IMPORTED_MODULE_1__.useEffect;\nfunction useMutableBox(initialValue) {\n  // Using refs instead of state as it's recommended to not store imperative\n  // values in state due to memory problems in React(?)\n  var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n\n  if (!ref.current) {\n    ref.current = typeof initialValue === 'function' ? initialValue() : initialValue;\n  }\n\n  return ref.current;\n}\n\nfunction updateClassName(box, action, classNames) {\n  classNames.split(/\\s+/).forEach(function (name) {\n    if (name) {\n      box.classList[action](name);\n    }\n  });\n}\n\nvar classNamePlugin = {\n  name: 'className',\n  defaultValue: '',\n  fn: function fn(instance) {\n    var box = instance.popper.firstElementChild;\n\n    var isDefaultRenderFn = function isDefaultRenderFn() {\n      var _instance$props$rende;\n\n      return !!((_instance$props$rende = instance.props.render) == null ? void 0 : _instance$props$rende.$$tippy);\n    };\n\n    function add() {\n      if (instance.props.className && !isDefaultRenderFn()) {\n        if (true) {\n          console.warn(['@tippyjs/react: Cannot use `className` prop in conjunction with', '`render` prop. Place the className on the element you are', 'rendering.'].join(' '));\n        }\n\n        return;\n      }\n\n      updateClassName(box, 'add', instance.props.className);\n    }\n\n    function remove() {\n      if (isDefaultRenderFn()) {\n        updateClassName(box, 'remove', instance.props.className);\n      }\n    }\n\n    return {\n      onCreate: add,\n      onBeforeUpdate: remove,\n      onAfterUpdate: add\n    };\n  }\n};\n\nfunction TippyGenerator(tippy) {\n  function Tippy(_ref) {\n    var children = _ref.children,\n        content = _ref.content,\n        visible = _ref.visible,\n        singleton = _ref.singleton,\n        render = _ref.render,\n        reference = _ref.reference,\n        _ref$disabled = _ref.disabled,\n        disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n        _ref$ignoreAttributes = _ref.ignoreAttributes,\n        ignoreAttributes = _ref$ignoreAttributes === void 0 ? true : _ref$ignoreAttributes,\n        __source = _ref.__source,\n        __self = _ref.__self,\n        restOfNativeProps = _objectWithoutPropertiesLoose(_ref, [\"children\", \"content\", \"visible\", \"singleton\", \"render\", \"reference\", \"disabled\", \"ignoreAttributes\", \"__source\", \"__self\"]);\n\n    var isControlledMode = visible !== undefined;\n    var isSingletonMode = singleton !== undefined;\n\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false),\n        mounted = _useState[0],\n        setMounted = _useState[1];\n\n    var _useState2 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({}),\n        attrs = _useState2[0],\n        setAttrs = _useState2[1];\n\n    var _useState3 = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(),\n        singletonContent = _useState3[0],\n        setSingletonContent = _useState3[1];\n\n    var mutableBox = useMutableBox(function () {\n      return {\n        container: ssrSafeCreateDiv(),\n        renders: 1\n      };\n    });\n    var props = Object.assign({\n      ignoreAttributes: ignoreAttributes\n    }, restOfNativeProps, {\n      content: mutableBox.container\n    });\n\n    if (isControlledMode) {\n      if (true) {\n        ['trigger', 'hideOnClick', 'showOnCreate'].forEach(function (nativeStateProp) {\n          if (props[nativeStateProp] !== undefined) {\n            console.warn([\"@tippyjs/react: Cannot specify `\" + nativeStateProp + \"` prop in\", \"controlled mode (`visible` prop)\"].join(' '));\n          }\n        });\n      }\n\n      props.trigger = 'manual';\n      props.hideOnClick = false;\n    }\n\n    if (isSingletonMode) {\n      disabled = true;\n    }\n\n    var computedProps = props;\n    var plugins = props.plugins || [];\n\n    if (render) {\n      computedProps = Object.assign({}, props, {\n        plugins: isSingletonMode && singleton.data != null ? [].concat(plugins, [{\n          fn: function fn() {\n            return {\n              onTrigger: function onTrigger(instance, event) {\n                var node = singleton.data.children.find(function (_ref2) {\n                  var instance = _ref2.instance;\n                  return instance.reference === event.currentTarget;\n                });\n                instance.state.$$activeSingletonInstance = node.instance;\n                setSingletonContent(node.content);\n              }\n            };\n          }\n        }]) : plugins,\n        render: function render() {\n          return {\n            popper: mutableBox.container\n          };\n        }\n      });\n    }\n\n    var deps = [reference].concat(children ? [children.type] : []); // CREATE\n\n    useIsomorphicLayoutEffect(function () {\n      var element = reference;\n\n      if (reference && reference.hasOwnProperty('current')) {\n        element = reference.current;\n      }\n\n      var instance = tippy(element || mutableBox.ref || ssrSafeCreateDiv(), Object.assign({}, computedProps, {\n        plugins: [classNamePlugin].concat(props.plugins || [])\n      }));\n      mutableBox.instance = instance;\n\n      if (disabled) {\n        instance.disable();\n      }\n\n      if (visible) {\n        instance.show();\n      }\n\n      if (isSingletonMode) {\n        singleton.hook({\n          instance: instance,\n          content: content,\n          props: computedProps,\n          setSingletonContent: setSingletonContent\n        });\n      }\n\n      setMounted(true);\n      return function () {\n        instance.destroy();\n        singleton == null ? void 0 : singleton.cleanup(instance);\n      };\n    }, deps); // UPDATE\n\n    useIsomorphicLayoutEffect(function () {\n      var _instance$popperInsta;\n\n      // Prevent this effect from running on 1st render\n      if (mutableBox.renders === 1) {\n        mutableBox.renders++;\n        return;\n      }\n\n      var instance = mutableBox.instance;\n      instance.setProps(deepPreserveProps(instance.props, computedProps)); // Fixes #264\n\n      (_instance$popperInsta = instance.popperInstance) == null ? void 0 : _instance$popperInsta.forceUpdate();\n\n      if (disabled) {\n        instance.disable();\n      } else {\n        instance.enable();\n      }\n\n      if (isControlledMode) {\n        if (visible) {\n          instance.show();\n        } else {\n          instance.hide();\n        }\n      }\n\n      if (isSingletonMode) {\n        singleton.hook({\n          instance: instance,\n          content: content,\n          props: computedProps,\n          setSingletonContent: setSingletonContent\n        });\n      }\n    });\n    useIsomorphicLayoutEffect(function () {\n      var _instance$props$poppe;\n\n      if (!render) {\n        return;\n      }\n\n      var instance = mutableBox.instance;\n      instance.setProps({\n        popperOptions: Object.assign({}, instance.props.popperOptions, {\n          modifiers: [].concat((((_instance$props$poppe = instance.props.popperOptions) == null ? void 0 : _instance$props$poppe.modifiers) || []).filter(function (_ref3) {\n            var name = _ref3.name;\n            return name !== '$$tippyReact';\n          }), [{\n            name: '$$tippyReact',\n            enabled: true,\n            phase: 'beforeWrite',\n            requires: ['computeStyles'],\n            fn: function fn(_ref4) {\n              var _state$modifiersData;\n\n              var state = _ref4.state;\n              var hideData = (_state$modifiersData = state.modifiersData) == null ? void 0 : _state$modifiersData.hide; // WARNING: this is a high-risk path that can cause an infinite\n              // loop. This expression _must_ evaluate to false when required\n\n              if (attrs.placement !== state.placement || attrs.referenceHidden !== (hideData == null ? void 0 : hideData.isReferenceHidden) || attrs.escaped !== (hideData == null ? void 0 : hideData.hasPopperEscaped)) {\n                setAttrs({\n                  placement: state.placement,\n                  referenceHidden: hideData == null ? void 0 : hideData.isReferenceHidden,\n                  escaped: hideData == null ? void 0 : hideData.hasPopperEscaped\n                });\n              }\n\n              state.attributes.popper = {};\n            }\n          }])\n        })\n      });\n    }, [attrs.placement, attrs.referenceHidden, attrs.escaped].concat(deps));\n    return /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, children ? /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(children, {\n      ref: function ref(node) {\n        mutableBox.ref = node;\n        preserveRef(children.ref, node);\n      }\n    }) : null, mounted && /*#__PURE__*/(0,react_dom__WEBPACK_IMPORTED_MODULE_2__.createPortal)(render ? render(toDataAttributes(attrs), singletonContent, mutableBox.instance) : content, mutableBox.container));\n  }\n\n  return Tippy;\n}\n\nfunction useSingletonGenerator(createSingleton) {\n  return function useSingleton(_temp) {\n    var _ref = _temp === void 0 ? {} : _temp,\n        _ref$disabled = _ref.disabled,\n        disabled = _ref$disabled === void 0 ? false : _ref$disabled,\n        _ref$overrides = _ref.overrides,\n        overrides = _ref$overrides === void 0 ? [] : _ref$overrides;\n\n    var _useState = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false),\n        mounted = _useState[0],\n        setMounted = _useState[1];\n\n    var mutableBox = useMutableBox({\n      children: [],\n      renders: 1\n    });\n    useIsomorphicLayoutEffect(function () {\n      if (!mounted) {\n        setMounted(true);\n        return;\n      }\n\n      var children = mutableBox.children,\n          sourceData = mutableBox.sourceData;\n\n      if (!sourceData) {\n        if (true) {\n          console.error(['@tippyjs/react: The `source` variable from `useSingleton()` has', 'not been passed to a <Tippy /> component.'].join(' '));\n        }\n\n        return;\n      }\n\n      var instance = createSingleton(children.map(function (child) {\n        return child.instance;\n      }), Object.assign({}, sourceData.props, {\n        popperOptions: sourceData.instance.props.popperOptions,\n        overrides: overrides,\n        plugins: [classNamePlugin].concat(sourceData.props.plugins || [])\n      }));\n      mutableBox.instance = instance;\n\n      if (disabled) {\n        instance.disable();\n      }\n\n      return function () {\n        instance.destroy();\n        mutableBox.children = children.filter(function (_ref2) {\n          var instance = _ref2.instance;\n          return !instance.state.isDestroyed;\n        });\n      };\n    }, [mounted]);\n    useIsomorphicLayoutEffect(function () {\n      if (!mounted) {\n        return;\n      }\n\n      if (mutableBox.renders === 1) {\n        mutableBox.renders++;\n        return;\n      }\n\n      var children = mutableBox.children,\n          instance = mutableBox.instance,\n          sourceData = mutableBox.sourceData;\n\n      if (!(instance && sourceData)) {\n        return;\n      }\n\n      var _sourceData$props = sourceData.props,\n          content = _sourceData$props.content,\n          props = _objectWithoutPropertiesLoose(_sourceData$props, [\"content\"]);\n\n      instance.setProps(deepPreserveProps(instance.props, Object.assign({}, props, {\n        overrides: overrides\n      })));\n      instance.setInstances(children.map(function (child) {\n        return child.instance;\n      }));\n\n      if (disabled) {\n        instance.disable();\n      } else {\n        instance.enable();\n      }\n    });\n    return (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\n      var source = {\n        data: mutableBox,\n        hook: function hook(data) {\n          mutableBox.sourceData = data;\n          mutableBox.setSingletonContent = data.setSingletonContent;\n        },\n        cleanup: function cleanup() {\n          mutableBox.sourceData = null;\n        }\n      };\n      var target = {\n        hook: function hook(data) {\n          var _mutableBox$instance, _mutableBox$instance2;\n\n          mutableBox.children = mutableBox.children.filter(function (_ref3) {\n            var instance = _ref3.instance;\n            return data.instance !== instance;\n          });\n          mutableBox.children.push(data);\n\n          if (((_mutableBox$instance = mutableBox.instance) == null ? void 0 : _mutableBox$instance.state.isMounted) && ((_mutableBox$instance2 = mutableBox.instance) == null ? void 0 : _mutableBox$instance2.state.$$activeSingletonInstance) === data.instance) {\n            mutableBox.setSingletonContent == null ? void 0 : mutableBox.setSingletonContent(data.content);\n          }\n\n          if (mutableBox.instance && !mutableBox.instance.state.isDestroyed) {\n            mutableBox.instance.setInstances(mutableBox.children.map(function (child) {\n              return child.instance;\n            }));\n          }\n        },\n        cleanup: function cleanup(instance) {\n          mutableBox.children = mutableBox.children.filter(function (data) {\n            return data.instance !== instance;\n          });\n\n          if (mutableBox.instance && !mutableBox.instance.state.isDestroyed) {\n            mutableBox.instance.setInstances(mutableBox.children.map(function (child) {\n              return child.instance;\n            }));\n          }\n        }\n      };\n      return [source, target];\n    }, []);\n  };\n}\n\nvar forwardRef = (function (Tippy, defaultProps) {\n  return /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(function TippyWrapper(_ref, _ref2) {\n    var children = _ref.children,\n        props = _objectWithoutPropertiesLoose(_ref, [\"children\"]);\n\n    return (\n      /*#__PURE__*/\n      // If I spread them separately here, Babel adds the _extends ponyfill for\n      // some reason\n      react__WEBPACK_IMPORTED_MODULE_1___default().createElement(Tippy, Object.assign({}, defaultProps, props), children ? /*#__PURE__*/(0,react__WEBPACK_IMPORTED_MODULE_1__.cloneElement)(children, {\n        ref: function ref(node) {\n          preserveRef(_ref2, node);\n          preserveRef(children.ref, node);\n        }\n      }) : null)\n    );\n  });\n});\n\nvar useSingleton = /*#__PURE__*/useSingletonGenerator(tippy_js__WEBPACK_IMPORTED_MODULE_0__.createSingleton);\nvar index = /*#__PURE__*/forwardRef( /*#__PURE__*/TippyGenerator(tippy_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]));\n\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (index);\n\n//# sourceMappingURL=tippy-react.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi9ub2RlX21vZHVsZXMvQHRpcHB5anMvcmVhY3QvZGlzdC90aXBweS1yZWFjdC5lc20uanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBa0Q7QUFDTjtBQUNtRjtBQUN0Rjs7QUFFekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxjQUFjLHVCQUF1QjtBQUNyQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxVQUFVO0FBQ1Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsSUFBSTtBQUNKO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsUUFBUTtBQUNSO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQUk7QUFDSjtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7QUFDQTtBQUNBOztBQUVBLHlCQUF5QjtBQUN6QixtQ0FBbUM7QUFDbkM7QUFDQSxLQUFLO0FBQ0wsR0FBRztBQUNIOztBQUVBLDRDQUE0QyxrREFBZSxHQUFHLDRDQUFTO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBLFlBQVksNkNBQU07O0FBRWxCO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLFlBQVksSUFBcUM7QUFDakQ7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFD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Q0EsV0FBVztBQUNYOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsV0FBVzs7QUFFWDtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBLHNCQUFzQixpREFBWTtBQUNsQztBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsTUFBTSwwREFBbUIsd0JBQXdCLGdEQUFnRCxtREFBWTtBQUM3RztBQUNBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBLEdBQUc7QUFDSCxDQUFDOztBQUVELHNEQUFzRCxxREFBZTtBQUNyRSxpRUFBaUUsZ0RBQUs7O0FBRXRFLGlFQUFlLEtBQUssRUFBQztBQUNHO0FBQ3hCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vdnJpc3RvLW5leHQvLi9ub2RlX21vZHVsZXMvQHRpcHB5anMvcmVhY3QvZGlzdC90aXBweS1yZWFjdC5lc20uanM/NjZkZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdGlwcHksIHsgY3JlYXRlU2luZ2xldG9uIH0gZnJvbSAndGlwcHkuanMnO1xuZXhwb3J0IHsgZGVmYXVsdCBhcyB0aXBweSB9IGZyb20gJ3RpcHB5LmpzJztcbmltcG9ydCBSZWFjdCwgeyB1c2VMYXlvdXRFZmZlY3QsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VTdGF0ZSwgY2xvbmVFbGVtZW50LCB1c2VNZW1vLCBmb3J3YXJkUmVmIGFzIGZvcndhcmRSZWYkMSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNyZWF0ZVBvcnRhbCB9IGZyb20gJ3JlYWN0LWRvbSc7XG5cbmZ1bmN0aW9uIF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHNvdXJjZSwgZXhjbHVkZWQpIHtcbiAgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307XG4gIHZhciB0YXJnZXQgPSB7fTtcbiAgdmFyIHNvdXJjZUtleXMgPSBPYmplY3Qua2V5cyhzb3VyY2UpO1xuICB2YXIga2V5LCBpO1xuXG4gIGZvciAoaSA9IDA7IGkgPCBzb3VyY2VLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAga2V5ID0gc291cmNlS2V5c1tpXTtcbiAgICBpZiAoZXhjbHVkZWQuaW5kZXhPZihrZXkpID49IDApIGNvbnRpbnVlO1xuICAgIHRhcmdldFtrZXldID0gc291cmNlW2tleV07XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG52YXIgaXNCcm93c2VyID0gdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGRvY3VtZW50ICE9PSAndW5kZWZpbmVkJztcbmZ1bmN0aW9uIHByZXNlcnZlUmVmKHJlZiwgbm9kZSkge1xuICBpZiAocmVmKSB7XG4gICAgaWYgKHR5cGVvZiByZWYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJlZihub2RlKTtcbiAgICB9XG5cbiAgICBpZiAoe30uaGFzT3duUHJvcGVydHkuY2FsbChyZWYsICdjdXJyZW50JykpIHtcbiAgICAgIHJlZi5jdXJyZW50ID0gbm9kZTtcbiAgICB9XG4gIH1cbn1cbmZ1bmN0aW9uIHNzclNhZmVDcmVhdGVEaXYoKSB7XG4gIHJldHVybiBpc0Jyb3dzZXIgJiYgZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG59XG5mdW5jdGlvbiB0b0RhdGFBdHRyaWJ1dGVzKGF0dHJzKSB7XG4gIHZhciBkYXRhQXR0cnMgPSB7XG4gICAgJ2RhdGEtcGxhY2VtZW50JzogYXR0cnMucGxhY2VtZW50XG4gIH07XG5cbiAgaWYgKGF0dHJzLnJlZmVyZW5jZUhpZGRlbikge1xuICAgIGRhdGFBdHRyc1snZGF0YS1yZWZlcmVuY2UtaGlkZGVuJ10gPSAnJztcbiAgfVxuXG4gIGlmIChhdHRycy5lc2NhcGVkKSB7XG4gICAgZGF0YUF0dHJzWydkYXRhLWVzY2FwZWQnXSA9ICcnO1xuICB9XG5cbiAgcmV0dXJuIGRhdGFBdHRycztcbn1cblxuZnVuY3Rpb24gZGVlcEVxdWFsKHgsIHkpIHtcbiAgaWYgKHggPT09IHkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgeCA9PT0gJ29iamVjdCcgJiYgeCAhPSBudWxsICYmIHR5cGVvZiB5ID09PSAnb2JqZWN0JyAmJiB5ICE9IG51bGwpIHtcbiAgICBpZiAoT2JqZWN0LmtleXMoeCkubGVuZ3RoICE9PSBPYmplY3Qua2V5cyh5KS5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBwcm9wIGluIHgpIHtcbiAgICAgIGlmICh5Lmhhc093blByb3BlcnR5KHByb3ApKSB7XG4gICAgICAgIGlmICghZGVlcEVxdWFsKHhbcHJvcF0sIHlbcHJvcF0pKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbmZ1bmN0aW9uIHVuaXF1ZUJ5U2hhcGUoYXJyKSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICBpZiAoIW91dHB1dC5maW5kKGZ1bmN0aW9uIChvdXRwdXRJdGVtKSB7XG4gICAgICByZXR1cm4gZGVlcEVxdWFsKGl0ZW0sIG91dHB1dEl0ZW0pO1xuICAgIH0pKSB7XG4gICAgICBvdXRwdXQucHVzaChpdGVtKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gb3V0cHV0O1xufVxuZnVuY3Rpb24gZGVlcFByZXNlcnZlUHJvcHMoaW5zdGFuY2VQcm9wcywgY29tcG9uZW50UHJvcHMpIHtcbiAgdmFyIF9pbnN0YW5jZVByb3BzJHBvcHBlciwgX2NvbXBvbmVudFByb3BzJHBvcHBlO1xuXG4gIHJldHVybiBPYmplY3QuYXNzaWduKHt9LCBjb21wb25lbnRQcm9wcywge1xuICAgIHBvcHBlck9wdGlvbnM6IE9iamVjdC5hc3NpZ24oe30sIGluc3RhbmNlUHJvcHMucG9wcGVyT3B0aW9ucywgY29tcG9uZW50UHJvcHMucG9wcGVyT3B0aW9ucywge1xuICAgICAgbW9kaWZpZXJzOiB1bmlxdWVCeVNoYXBlKFtdLmNvbmNhdCgoKF9pbnN0YW5jZVByb3BzJHBvcHBlciA9IGluc3RhbmNlUHJvcHMucG9wcGVyT3B0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9pbnN0YW5jZVByb3BzJHBvcHBlci5tb2RpZmllcnMpIHx8IFtdLCAoKF9jb21wb25lbnRQcm9wcyRwb3BwZSA9IGNvbXBvbmVudFByb3BzLnBvcHBlck9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfY29tcG9uZW50UHJvcHMkcG9wcGUubW9kaWZpZXJzKSB8fCBbXSkpXG4gICAgfSlcbiAgfSk7XG59XG5cbnZhciB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0ID0gaXNCcm93c2VyID8gdXNlTGF5b3V0RWZmZWN0IDogdXNlRWZmZWN0O1xuZnVuY3Rpb24gdXNlTXV0YWJsZUJveChpbml0aWFsVmFsdWUpIHtcbiAgLy8gVXNpbmcgcmVmcyBpbnN0ZWFkIG9mIHN0YXRlIGFzIGl0J3MgcmVjb21tZW5kZWQgdG8gbm90IHN0b3JlIGltcGVyYXRpdmVcbiAgLy8gdmFsdWVzIGluIHN0YXRlIGR1ZSB0byBtZW1vcnkgcHJvYmxlbXMgaW4gUmVhY3QoPylcbiAgdmFyIHJlZiA9IHVzZVJlZigpO1xuXG4gIGlmICghcmVmLmN1cnJlbnQpIHtcbiAgICByZWYuY3VycmVudCA9IHR5cGVvZiBpbml0aWFsVmFsdWUgPT09ICdmdW5jdGlvbicgPyBpbml0aWFsVmFsdWUoKSA6IGluaXRpYWxWYWx1ZTtcbiAgfVxuXG4gIHJldHVybiByZWYuY3VycmVudDtcbn1cblxuZnVuY3Rpb24gdXBkYXRlQ2xhc3NOYW1lKGJveCwgYWN0aW9uLCBjbGFzc05hbWVzKSB7XG4gIGNsYXNzTmFtZXMuc3BsaXQoL1xccysvKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIGJveC5jbGFzc0xpc3RbYWN0aW9uXShuYW1lKTtcbiAgICB9XG4gIH0pO1xufVxuXG52YXIgY2xhc3NOYW1lUGx1Z2luID0ge1xuICBuYW1lOiAnY2xhc3NOYW1lJyxcbiAgZGVmYXVsdFZhbHVlOiAnJyxcbiAgZm46IGZ1bmN0aW9uIGZuKGluc3RhbmNlKSB7XG4gICAgdmFyIGJveCA9IGluc3RhbmNlLnBvcHBlci5maXJzdEVsZW1lbnRDaGlsZDtcblxuICAgIHZhciBpc0RlZmF1bHRSZW5kZXJGbiA9IGZ1bmN0aW9uIGlzRGVmYXVsdFJlbmRlckZuKCkge1xuICAgICAgdmFyIF9pbnN0YW5jZSRwcm9wcyRyZW5kZTtcblxuICAgICAgcmV0dXJuICEhKChfaW5zdGFuY2UkcHJvcHMkcmVuZGUgPSBpbnN0YW5jZS5wcm9wcy5yZW5kZXIpID09IG51bGwgPyB2b2lkIDAgOiBfaW5zdGFuY2UkcHJvcHMkcmVuZGUuJCR0aXBweSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGFkZCgpIHtcbiAgICAgIGlmIChpbnN0YW5jZS5wcm9wcy5jbGFzc05hbWUgJiYgIWlzRGVmYXVsdFJlbmRlckZuKCkpIHtcbiAgICAgICAgaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbicpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oWydAdGlwcHlqcy9yZWFjdDogQ2Fubm90IHVzZSBgY2xhc3NOYW1lYCBwcm9wIGluIGNvbmp1bmN0aW9uIHdpdGgnLCAnYHJlbmRlcmAgcHJvcC4gUGxhY2UgdGhlIGNsYXNzTmFtZSBvbiB0aGUgZWxlbWVudCB5b3UgYXJlJywgJ3JlbmRlcmluZy4nXS5qb2luKCcgJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB1cGRhdGVDbGFzc05hbWUoYm94LCAnYWRkJywgaW5zdGFuY2UucHJvcHMuY2xhc3NOYW1lKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICBpZiAoaXNEZWZhdWx0UmVuZGVyRm4oKSkge1xuICAgICAgICB1cGRhdGVDbGFzc05hbWUoYm94LCAncmVtb3ZlJywgaW5zdGFuY2UucHJvcHMuY2xhc3NOYW1lKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgb25DcmVhdGU6IGFkZCxcbiAgICAgIG9uQmVmb3JlVXBkYXRlOiByZW1vdmUsXG4gICAgICBvbkFmdGVyVXBkYXRlOiBhZGRcbiAgICB9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBUaXBweUdlbmVyYXRvcih0aXBweSkge1xuICBmdW5jdGlvbiBUaXBweShfcmVmKSB7XG4gICAgdmFyIGNoaWxkcmVuID0gX3JlZi5jaGlsZHJlbixcbiAgICAgICAgY29udGVudCA9IF9yZWYuY29udGVudCxcbiAgICAgICAgdmlzaWJsZSA9IF9yZWYudmlzaWJsZSxcbiAgICAgICAgc2luZ2xldG9uID0gX3JlZi5zaW5nbGV0b24sXG4gICAgICAgIHJlbmRlciA9IF9yZWYucmVuZGVyLFxuICAgICAgICByZWZlcmVuY2UgPSBfcmVmLnJlZmVyZW5jZSxcbiAgICAgICAgX3JlZiRkaXNhYmxlZCA9IF9yZWYuZGlzYWJsZWQsXG4gICAgICAgIGRpc2FibGVkID0gX3JlZiRkaXNhYmxlZCA9PT0gdm9pZCAwID8gZmFsc2UgOiBfcmVmJGRpc2FibGVkLFxuICAgICAgICBfcmVmJGlnbm9yZUF0dHJpYnV0ZXMgPSBfcmVmLmlnbm9yZUF0dHJpYnV0ZXMsXG4gICAgICAgIGlnbm9yZUF0dHJpYnV0ZXMgPSBfcmVmJGlnbm9yZUF0dHJpYnV0ZXMgPT09IHZvaWQgMCA/IHRydWUgOiBfcmVmJGlnbm9yZUF0dHJpYnV0ZXMsXG4gICAgICAgIF9fc291cmNlID0gX3JlZi5fX3NvdXJjZSxcbiAgICAgICAgX19zZWxmID0gX3JlZi5fX3NlbGYsXG4gICAgICAgIHJlc3RPZk5hdGl2ZVByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY2hpbGRyZW5cIiwgXCJjb250ZW50XCIsIFwidmlzaWJsZVwiLCBcInNpbmdsZXRvblwiLCBcInJlbmRlclwiLCBcInJlZmVyZW5jZVwiLCBcImRpc2FibGVkXCIsIFwiaWdub3JlQXR0cmlidXRlc1wiLCBcIl9fc291cmNlXCIsIFwiX19zZWxmXCJdKTtcblxuICAgIHZhciBpc0NvbnRyb2xsZWRNb2RlID0gdmlzaWJsZSAhPT0gdW5kZWZpbmVkO1xuICAgIHZhciBpc1NpbmdsZXRvbk1vZGUgPSBzaW5nbGV0b24gIT09IHVuZGVmaW5lZDtcblxuICAgIHZhciBfdXNlU3RhdGUgPSB1c2VTdGF0ZShmYWxzZSksXG4gICAgICAgIG1vdW50ZWQgPSBfdXNlU3RhdGVbMF0sXG4gICAgICAgIHNldE1vdW50ZWQgPSBfdXNlU3RhdGVbMV07XG5cbiAgICB2YXIgX3VzZVN0YXRlMiA9IHVzZVN0YXRlKHt9KSxcbiAgICAgICAgYXR0cnMgPSBfdXNlU3RhdGUyWzBdLFxuICAgICAgICBzZXRBdHRycyA9IF91c2VTdGF0ZTJbMV07XG5cbiAgICB2YXIgX3VzZVN0YXRlMyA9IHVzZVN0YXRlKCksXG4gICAgICAgIHNpbmdsZXRvbkNvbnRlbnQgPSBfdXNlU3RhdGUzWzBdLFxuICAgICAgICBzZXRTaW5nbGV0b25Db250ZW50ID0gX3VzZVN0YXRlM1sxXTtcblxuICAgIHZhciBtdXRhYmxlQm94ID0gdXNlTXV0YWJsZUJveChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBjb250YWluZXI6IHNzclNhZmVDcmVhdGVEaXYoKSxcbiAgICAgICAgcmVuZGVyczogMVxuICAgICAgfTtcbiAgICB9KTtcbiAgICB2YXIgcHJvcHMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgIGlnbm9yZUF0dHJpYnV0ZXM6IGlnbm9yZUF0dHJpYnV0ZXNcbiAgICB9LCByZXN0T2ZOYXRpdmVQcm9wcywge1xuICAgICAgY29udGVudDogbXV0YWJsZUJveC5jb250YWluZXJcbiAgICB9KTtcblxuICAgIGlmIChpc0NvbnRyb2xsZWRNb2RlKSB7XG4gICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICBbJ3RyaWdnZXInLCAnaGlkZU9uQ2xpY2snLCAnc2hvd09uQ3JlYXRlJ10uZm9yRWFjaChmdW5jdGlvbiAobmF0aXZlU3RhdGVQcm9wKSB7XG4gICAgICAgICAgaWYgKHByb3BzW25hdGl2ZVN0YXRlUHJvcF0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFtcIkB0aXBweWpzL3JlYWN0OiBDYW5ub3Qgc3BlY2lmeSBgXCIgKyBuYXRpdmVTdGF0ZVByb3AgKyBcImAgcHJvcCBpblwiLCBcImNvbnRyb2xsZWQgbW9kZSAoYHZpc2libGVgIHByb3ApXCJdLmpvaW4oJyAnKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgcHJvcHMudHJpZ2dlciA9ICdtYW51YWwnO1xuICAgICAgcHJvcHMuaGlkZU9uQ2xpY2sgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoaXNTaW5nbGV0b25Nb2RlKSB7XG4gICAgICBkaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGNvbXB1dGVkUHJvcHMgPSBwcm9wcztcbiAgICB2YXIgcGx1Z2lucyA9IHByb3BzLnBsdWdpbnMgfHwgW107XG5cbiAgICBpZiAocmVuZGVyKSB7XG4gICAgICBjb21wdXRlZFByb3BzID0gT2JqZWN0LmFzc2lnbih7fSwgcHJvcHMsIHtcbiAgICAgICAgcGx1Z2luczogaXNTaW5nbGV0b25Nb2RlICYmIHNpbmdsZXRvbi5kYXRhICE9IG51bGwgPyBbXS5jb25jYXQocGx1Z2lucywgW3tcbiAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oKSB7XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICBvblRyaWdnZXI6IGZ1bmN0aW9uIG9uVHJpZ2dlcihpbnN0YW5jZSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICB2YXIgbm9kZSA9IHNpbmdsZXRvbi5kYXRhLmNoaWxkcmVuLmZpbmQoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBfcmVmMi5pbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBpbnN0YW5jZS5yZWZlcmVuY2UgPT09IGV2ZW50LmN1cnJlbnRUYXJnZXQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaW5zdGFuY2Uuc3RhdGUuJCRhY3RpdmVTaW5nbGV0b25JbnN0YW5jZSA9IG5vZGUuaW5zdGFuY2U7XG4gICAgICAgICAgICAgICAgc2V0U2luZ2xldG9uQ29udGVudChub2RlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfV0pIDogcGx1Z2lucyxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHBvcHBlcjogbXV0YWJsZUJveC5jb250YWluZXJcbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgZGVwcyA9IFtyZWZlcmVuY2VdLmNvbmNhdChjaGlsZHJlbiA/IFtjaGlsZHJlbi50eXBlXSA6IFtdKTsgLy8gQ1JFQVRFXG5cbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBlbGVtZW50ID0gcmVmZXJlbmNlO1xuXG4gICAgICBpZiAocmVmZXJlbmNlICYmIHJlZmVyZW5jZS5oYXNPd25Qcm9wZXJ0eSgnY3VycmVudCcpKSB7XG4gICAgICAgIGVsZW1lbnQgPSByZWZlcmVuY2UuY3VycmVudDtcbiAgICAgIH1cblxuICAgICAgdmFyIGluc3RhbmNlID0gdGlwcHkoZWxlbWVudCB8fCBtdXRhYmxlQm94LnJlZiB8fCBzc3JTYWZlQ3JlYXRlRGl2KCksIE9iamVjdC5hc3NpZ24oe30sIGNvbXB1dGVkUHJvcHMsIHtcbiAgICAgICAgcGx1Z2luczogW2NsYXNzTmFtZVBsdWdpbl0uY29uY2F0KHByb3BzLnBsdWdpbnMgfHwgW10pXG4gICAgICB9KSk7XG4gICAgICBtdXRhYmxlQm94Lmluc3RhbmNlID0gaW5zdGFuY2U7XG5cbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICBpbnN0YW5jZS5kaXNhYmxlKCk7XG4gICAgICB9XG5cbiAgICAgIGlmICh2aXNpYmxlKSB7XG4gICAgICAgIGluc3RhbmNlLnNob3coKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzU2luZ2xldG9uTW9kZSkge1xuICAgICAgICBzaW5nbGV0b24uaG9vayh7XG4gICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLFxuICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgcHJvcHM6IGNvbXB1dGVkUHJvcHMsXG4gICAgICAgICAgc2V0U2luZ2xldG9uQ29udGVudDogc2V0U2luZ2xldG9uQ29udGVudFxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgc2V0TW91bnRlZCh0cnVlKTtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGluc3RhbmNlLmRlc3Ryb3koKTtcbiAgICAgICAgc2luZ2xldG9uID09IG51bGwgPyB2b2lkIDAgOiBzaW5nbGV0b24uY2xlYW51cChpbnN0YW5jZSk7XG4gICAgICB9O1xuICAgIH0sIGRlcHMpOyAvLyBVUERBVEVcblxuICAgIHVzZUlzb21vcnBoaWNMYXlvdXRFZmZlY3QoZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIF9pbnN0YW5jZSRwb3BwZXJJbnN0YTtcblxuICAgICAgLy8gUHJldmVudCB0aGlzIGVmZmVjdCBmcm9tIHJ1bm5pbmcgb24gMXN0IHJlbmRlclxuICAgICAgaWYgKG11dGFibGVCb3gucmVuZGVycyA9PT0gMSkge1xuICAgICAgICBtdXRhYmxlQm94LnJlbmRlcnMrKztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5zdGFuY2UgPSBtdXRhYmxlQm94Lmluc3RhbmNlO1xuICAgICAgaW5zdGFuY2Uuc2V0UHJvcHMoZGVlcFByZXNlcnZlUHJvcHMoaW5zdGFuY2UucHJvcHMsIGNvbXB1dGVkUHJvcHMpKTsgLy8gRml4ZXMgIzI2NFxuXG4gICAgICAoX2luc3RhbmNlJHBvcHBlckluc3RhID0gaW5zdGFuY2UucG9wcGVySW5zdGFuY2UpID09IG51bGwgPyB2b2lkIDAgOiBfaW5zdGFuY2UkcG9wcGVySW5zdGEuZm9yY2VVcGRhdGUoKTtcblxuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIGluc3RhbmNlLmRpc2FibGUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLmVuYWJsZSgpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNDb250cm9sbGVkTW9kZSkge1xuICAgICAgICBpZiAodmlzaWJsZSkge1xuICAgICAgICAgIGluc3RhbmNlLnNob3coKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpbnN0YW5jZS5oaWRlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzU2luZ2xldG9uTW9kZSkge1xuICAgICAgICBzaW5nbGV0b24uaG9vayh7XG4gICAgICAgICAgaW5zdGFuY2U6IGluc3RhbmNlLFxuICAgICAgICAgIGNvbnRlbnQ6IGNvbnRlbnQsXG4gICAgICAgICAgcHJvcHM6IGNvbXB1dGVkUHJvcHMsXG4gICAgICAgICAgc2V0U2luZ2xldG9uQ29udGVudDogc2V0U2luZ2xldG9uQ29udGVudFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VJc29tb3JwaGljTGF5b3V0RWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfaW5zdGFuY2UkcHJvcHMkcG9wcGU7XG5cbiAgICAgIGlmICghcmVuZGVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIGluc3RhbmNlID0gbXV0YWJsZUJveC5pbnN0YW5jZTtcbiAgICAgIGluc3RhbmNlLnNldFByb3BzKHtcbiAgICAgICAgcG9wcGVyT3B0aW9uczogT2JqZWN0LmFzc2lnbih7fSwgaW5zdGFuY2UucHJvcHMucG9wcGVyT3B0aW9ucywge1xuICAgICAgICAgIG1vZGlmaWVyczogW10uY29uY2F0KCgoKF9pbnN0YW5jZSRwcm9wcyRwb3BwZSA9IGluc3RhbmNlLnByb3BzLnBvcHBlck9wdGlvbnMpID09IG51bGwgPyB2b2lkIDAgOiBfaW5zdGFuY2UkcHJvcHMkcG9wcGUubW9kaWZpZXJzKSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICAgICAgdmFyIG5hbWUgPSBfcmVmMy5uYW1lO1xuICAgICAgICAgICAgcmV0dXJuIG5hbWUgIT09ICckJHRpcHB5UmVhY3QnO1xuICAgICAgICAgIH0pLCBbe1xuICAgICAgICAgICAgbmFtZTogJyQkdGlwcHlSZWFjdCcsXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgcGhhc2U6ICdiZWZvcmVXcml0ZScsXG4gICAgICAgICAgICByZXF1aXJlczogWydjb21wdXRlU3R5bGVzJ10sXG4gICAgICAgICAgICBmbjogZnVuY3Rpb24gZm4oX3JlZjQpIHtcbiAgICAgICAgICAgICAgdmFyIF9zdGF0ZSRtb2RpZmllcnNEYXRhO1xuXG4gICAgICAgICAgICAgIHZhciBzdGF0ZSA9IF9yZWY0LnN0YXRlO1xuICAgICAgICAgICAgICB2YXIgaGlkZURhdGEgPSAoX3N0YXRlJG1vZGlmaWVyc0RhdGEgPSBzdGF0ZS5tb2RpZmllcnNEYXRhKSA9PSBudWxsID8gdm9pZCAwIDogX3N0YXRlJG1vZGlmaWVyc0RhdGEuaGlkZTsgLy8gV0FSTklORzogdGhpcyBpcyBhIGhpZ2gtcmlzayBwYXRoIHRoYXQgY2FuIGNhdXNlIGFuIGluZmluaXRlXG4gICAgICAgICAgICAgIC8vIGxvb3AuIFRoaXMgZXhwcmVzc2lvbiBfbXVzdF8gZXZhbHVhdGUgdG8gZmFsc2Ugd2hlbiByZXF1aXJlZFxuXG4gICAgICAgICAgICAgIGlmIChhdHRycy5wbGFjZW1lbnQgIT09IHN0YXRlLnBsYWNlbWVudCB8fCBhdHRycy5yZWZlcmVuY2VIaWRkZW4gIT09IChoaWRlRGF0YSA9PSBudWxsID8gdm9pZCAwIDogaGlkZURhdGEuaXNSZWZlcmVuY2VIaWRkZW4pIHx8IGF0dHJzLmVzY2FwZWQgIT09IChoaWRlRGF0YSA9PSBudWxsID8gdm9pZCAwIDogaGlkZURhdGEuaGFzUG9wcGVyRXNjYXBlZCkpIHtcbiAgICAgICAgICAgICAgICBzZXRBdHRycyh7XG4gICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6IHN0YXRlLnBsYWNlbWVudCxcbiAgICAgICAgICAgICAgICAgIHJlZmVyZW5jZUhpZGRlbjogaGlkZURhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGhpZGVEYXRhLmlzUmVmZXJlbmNlSGlkZGVuLFxuICAgICAgICAgICAgICAgICAgZXNjYXBlZDogaGlkZURhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IGhpZGVEYXRhLmhhc1BvcHBlckVzY2FwZWRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgIHN0YXRlLmF0dHJpYnV0ZXMucG9wcGVyID0ge307XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfV0pXG4gICAgICAgIH0pXG4gICAgICB9KTtcbiAgICB9LCBbYXR0cnMucGxhY2VtZW50LCBhdHRycy5yZWZlcmVuY2VIaWRkZW4sIGF0dHJzLmVzY2FwZWRdLmNvbmNhdChkZXBzKSk7XG4gICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBjaGlsZHJlbiA/IC8qI19fUFVSRV9fKi9jbG9uZUVsZW1lbnQoY2hpbGRyZW4sIHtcbiAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG5vZGUpIHtcbiAgICAgICAgbXV0YWJsZUJveC5yZWYgPSBub2RlO1xuICAgICAgICBwcmVzZXJ2ZVJlZihjaGlsZHJlbi5yZWYsIG5vZGUpO1xuICAgICAgfVxuICAgIH0pIDogbnVsbCwgbW91bnRlZCAmJiAvKiNfX1BVUkVfXyovY3JlYXRlUG9ydGFsKHJlbmRlciA/IHJlbmRlcih0b0RhdGFBdHRyaWJ1dGVzKGF0dHJzKSwgc2luZ2xldG9uQ29udGVudCwgbXV0YWJsZUJveC5pbnN0YW5jZSkgOiBjb250ZW50LCBtdXRhYmxlQm94LmNvbnRhaW5lcikpO1xuICB9XG5cbiAgcmV0dXJuIFRpcHB5O1xufVxuXG5mdW5jdGlvbiB1c2VTaW5nbGV0b25HZW5lcmF0b3IoY3JlYXRlU2luZ2xldG9uKSB7XG4gIHJldHVybiBmdW5jdGlvbiB1c2VTaW5nbGV0b24oX3RlbXApIHtcbiAgICB2YXIgX3JlZiA9IF90ZW1wID09PSB2b2lkIDAgPyB7fSA6IF90ZW1wLFxuICAgICAgICBfcmVmJGRpc2FibGVkID0gX3JlZi5kaXNhYmxlZCxcbiAgICAgICAgZGlzYWJsZWQgPSBfcmVmJGRpc2FibGVkID09PSB2b2lkIDAgPyBmYWxzZSA6IF9yZWYkZGlzYWJsZWQsXG4gICAgICAgIF9yZWYkb3ZlcnJpZGVzID0gX3JlZi5vdmVycmlkZXMsXG4gICAgICAgIG92ZXJyaWRlcyA9IF9yZWYkb3ZlcnJpZGVzID09PSB2b2lkIDAgPyBbXSA6IF9yZWYkb3ZlcnJpZGVzO1xuXG4gICAgdmFyIF91c2VTdGF0ZSA9IHVzZVN0YXRlKGZhbHNlKSxcbiAgICAgICAgbW91bnRlZCA9IF91c2VTdGF0ZVswXSxcbiAgICAgICAgc2V0TW91bnRlZCA9IF91c2VTdGF0ZVsxXTtcblxuICAgIHZhciBtdXRhYmxlQm94ID0gdXNlTXV0YWJsZUJveCh7XG4gICAgICBjaGlsZHJlbjogW10sXG4gICAgICByZW5kZXJzOiAxXG4gICAgfSk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIW1vdW50ZWQpIHtcbiAgICAgICAgc2V0TW91bnRlZCh0cnVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgY2hpbGRyZW4gPSBtdXRhYmxlQm94LmNoaWxkcmVuLFxuICAgICAgICAgIHNvdXJjZURhdGEgPSBtdXRhYmxlQm94LnNvdXJjZURhdGE7XG5cbiAgICAgIGlmICghc291cmNlRGF0YSkge1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoWydAdGlwcHlqcy9yZWFjdDogVGhlIGBzb3VyY2VgIHZhcmlhYmxlIGZyb20gYHVzZVNpbmdsZXRvbigpYCBoYXMnLCAnbm90IGJlZW4gcGFzc2VkIHRvIGEgPFRpcHB5IC8+IGNvbXBvbmVudC4nXS5qb2luKCcgJykpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5zdGFuY2UgPSBjcmVhdGVTaW5nbGV0b24oY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICByZXR1cm4gY2hpbGQuaW5zdGFuY2U7XG4gICAgICB9KSwgT2JqZWN0LmFzc2lnbih7fSwgc291cmNlRGF0YS5wcm9wcywge1xuICAgICAgICBwb3BwZXJPcHRpb25zOiBzb3VyY2VEYXRhLmluc3RhbmNlLnByb3BzLnBvcHBlck9wdGlvbnMsXG4gICAgICAgIG92ZXJyaWRlczogb3ZlcnJpZGVzLFxuICAgICAgICBwbHVnaW5zOiBbY2xhc3NOYW1lUGx1Z2luXS5jb25jYXQoc291cmNlRGF0YS5wcm9wcy5wbHVnaW5zIHx8IFtdKVxuICAgICAgfSkpO1xuICAgICAgbXV0YWJsZUJveC5pbnN0YW5jZSA9IGluc3RhbmNlO1xuXG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgaW5zdGFuY2UuZGlzYWJsZSgpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICBpbnN0YW5jZS5kZXN0cm95KCk7XG4gICAgICAgIG11dGFibGVCb3guY2hpbGRyZW4gPSBjaGlsZHJlbi5maWx0ZXIoZnVuY3Rpb24gKF9yZWYyKSB7XG4gICAgICAgICAgdmFyIGluc3RhbmNlID0gX3JlZjIuaW5zdGFuY2U7XG4gICAgICAgICAgcmV0dXJuICFpbnN0YW5jZS5zdGF0ZS5pc0Rlc3Ryb3llZDtcbiAgICAgICAgfSk7XG4gICAgICB9O1xuICAgIH0sIFttb3VudGVkXSk7XG4gICAgdXNlSXNvbW9ycGhpY0xheW91dEVmZmVjdChmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoIW1vdW50ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAobXV0YWJsZUJveC5yZW5kZXJzID09PSAxKSB7XG4gICAgICAgIG11dGFibGVCb3gucmVuZGVycysrO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIHZhciBjaGlsZHJlbiA9IG11dGFibGVCb3guY2hpbGRyZW4sXG4gICAgICAgICAgaW5zdGFuY2UgPSBtdXRhYmxlQm94Lmluc3RhbmNlLFxuICAgICAgICAgIHNvdXJjZURhdGEgPSBtdXRhYmxlQm94LnNvdXJjZURhdGE7XG5cbiAgICAgIGlmICghKGluc3RhbmNlICYmIHNvdXJjZURhdGEpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgdmFyIF9zb3VyY2VEYXRhJHByb3BzID0gc291cmNlRGF0YS5wcm9wcyxcbiAgICAgICAgICBjb250ZW50ID0gX3NvdXJjZURhdGEkcHJvcHMuY29udGVudCxcbiAgICAgICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKF9zb3VyY2VEYXRhJHByb3BzLCBbXCJjb250ZW50XCJdKTtcblxuICAgICAgaW5zdGFuY2Uuc2V0UHJvcHMoZGVlcFByZXNlcnZlUHJvcHMoaW5zdGFuY2UucHJvcHMsIE9iamVjdC5hc3NpZ24oe30sIHByb3BzLCB7XG4gICAgICAgIG92ZXJyaWRlczogb3ZlcnJpZGVzXG4gICAgICB9KSkpO1xuICAgICAgaW5zdGFuY2Uuc2V0SW5zdGFuY2VzKGNoaWxkcmVuLm1hcChmdW5jdGlvbiAoY2hpbGQpIHtcbiAgICAgICAgcmV0dXJuIGNoaWxkLmluc3RhbmNlO1xuICAgICAgfSkpO1xuXG4gICAgICBpZiAoZGlzYWJsZWQpIHtcbiAgICAgICAgaW5zdGFuY2UuZGlzYWJsZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5zdGFuY2UuZW5hYmxlKCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHVzZU1lbW8oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHtcbiAgICAgICAgZGF0YTogbXV0YWJsZUJveCxcbiAgICAgICAgaG9vazogZnVuY3Rpb24gaG9vayhkYXRhKSB7XG4gICAgICAgICAgbXV0YWJsZUJveC5zb3VyY2VEYXRhID0gZGF0YTtcbiAgICAgICAgICBtdXRhYmxlQm94LnNldFNpbmdsZXRvbkNvbnRlbnQgPSBkYXRhLnNldFNpbmdsZXRvbkNvbnRlbnQ7XG4gICAgICAgIH0sXG4gICAgICAgIGNsZWFudXA6IGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgICAgICAgbXV0YWJsZUJveC5zb3VyY2VEYXRhID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHZhciB0YXJnZXQgPSB7XG4gICAgICAgIGhvb2s6IGZ1bmN0aW9uIGhvb2soZGF0YSkge1xuICAgICAgICAgIHZhciBfbXV0YWJsZUJveCRpbnN0YW5jZSwgX211dGFibGVCb3gkaW5zdGFuY2UyO1xuXG4gICAgICAgICAgbXV0YWJsZUJveC5jaGlsZHJlbiA9IG11dGFibGVCb3guY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChfcmVmMykge1xuICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gX3JlZjMuaW5zdGFuY2U7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5pbnN0YW5jZSAhPT0gaW5zdGFuY2U7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbXV0YWJsZUJveC5jaGlsZHJlbi5wdXNoKGRhdGEpO1xuXG4gICAgICAgICAgaWYgKCgoX211dGFibGVCb3gkaW5zdGFuY2UgPSBtdXRhYmxlQm94Lmluc3RhbmNlKSA9PSBudWxsID8gdm9pZCAwIDogX211dGFibGVCb3gkaW5zdGFuY2Uuc3RhdGUuaXNNb3VudGVkKSAmJiAoKF9tdXRhYmxlQm94JGluc3RhbmNlMiA9IG11dGFibGVCb3guaW5zdGFuY2UpID09IG51bGwgPyB2b2lkIDAgOiBfbXV0YWJsZUJveCRpbnN0YW5jZTIuc3RhdGUuJCRhY3RpdmVTaW5nbGV0b25JbnN0YW5jZSkgPT09IGRhdGEuaW5zdGFuY2UpIHtcbiAgICAgICAgICAgIG11dGFibGVCb3guc2V0U2luZ2xldG9uQ29udGVudCA9PSBudWxsID8gdm9pZCAwIDogbXV0YWJsZUJveC5zZXRTaW5nbGV0b25Db250ZW50KGRhdGEuY29udGVudCk7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKG11dGFibGVCb3guaW5zdGFuY2UgJiYgIW11dGFibGVCb3guaW5zdGFuY2Uuc3RhdGUuaXNEZXN0cm95ZWQpIHtcbiAgICAgICAgICAgIG11dGFibGVCb3guaW5zdGFuY2Uuc2V0SW5zdGFuY2VzKG11dGFibGVCb3guY2hpbGRyZW4ubWFwKGZ1bmN0aW9uIChjaGlsZCkge1xuICAgICAgICAgICAgICByZXR1cm4gY2hpbGQuaW5zdGFuY2U7XG4gICAgICAgICAgICB9KSk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBjbGVhbnVwOiBmdW5jdGlvbiBjbGVhbnVwKGluc3RhbmNlKSB7XG4gICAgICAgICAgbXV0YWJsZUJveC5jaGlsZHJlbiA9IG11dGFibGVCb3guY2hpbGRyZW4uZmlsdGVyKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0YS5pbnN0YW5jZSAhPT0gaW5zdGFuY2U7XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpZiAobXV0YWJsZUJveC5pbnN0YW5jZSAmJiAhbXV0YWJsZUJveC5pbnN0YW5jZS5zdGF0ZS5pc0Rlc3Ryb3llZCkge1xuICAgICAgICAgICAgbXV0YWJsZUJveC5pbnN0YW5jZS5zZXRJbnN0YW5jZXMobXV0YWJsZUJveC5jaGlsZHJlbi5tYXAoZnVuY3Rpb24gKGNoaWxkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBjaGlsZC5pbnN0YW5jZTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICByZXR1cm4gW3NvdXJjZSwgdGFyZ2V0XTtcbiAgICB9LCBbXSk7XG4gIH07XG59XG5cbnZhciBmb3J3YXJkUmVmID0gKGZ1bmN0aW9uIChUaXBweSwgZGVmYXVsdFByb3BzKSB7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZiQxKGZ1bmN0aW9uIFRpcHB5V3JhcHBlcihfcmVmLCBfcmVmMikge1xuICAgIHZhciBjaGlsZHJlbiA9IF9yZWYuY2hpbGRyZW4sXG4gICAgICAgIHByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UoX3JlZiwgW1wiY2hpbGRyZW5cIl0pO1xuXG4gICAgcmV0dXJuIChcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIC8vIElmIEkgc3ByZWFkIHRoZW0gc2VwYXJhdGVseSBoZXJlLCBCYWJlbCBhZGRzIHRoZSBfZXh0ZW5kcyBwb255ZmlsbCBmb3JcbiAgICAgIC8vIHNvbWUgcmVhc29uXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFRpcHB5LCBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0UHJvcHMsIHByb3BzKSwgY2hpbGRyZW4gPyAvKiNfX1BVUkVfXyovY2xvbmVFbGVtZW50KGNoaWxkcmVuLCB7XG4gICAgICAgIHJlZjogZnVuY3Rpb24gcmVmKG5vZGUpIHtcbiAgICAgICAgICBwcmVzZXJ2ZVJlZihfcmVmMiwgbm9kZSk7XG4gICAgICAgICAgcHJlc2VydmVSZWYoY2hpbGRyZW4ucmVmLCBub2RlKTtcbiAgICAgICAgfVxuICAgICAgfSkgOiBudWxsKVxuICAgICk7XG4gIH0pO1xufSk7XG5cbnZhciB1c2VTaW5nbGV0b24gPSAvKiNfX1BVUkVfXyovdXNlU2luZ2xldG9uR2VuZXJhdG9yKGNyZWF0ZVNpbmdsZXRvbik7XG52YXIgaW5kZXggPSAvKiNfX1BVUkVfXyovZm9yd2FyZFJlZiggLyojX19QVVJFX18qL1RpcHB5R2VuZXJhdG9yKHRpcHB5KSk7XG5cbmV4cG9ydCBkZWZhdWx0IGluZGV4O1xuZXhwb3J0IHsgdXNlU2luZ2xldG9uIH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aXBweS1yZWFjdC5lc20uanMubWFwXG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(ssr)/./node_modules/@tippyjs/react/dist/tippy-react.esm.js\n");

/***/ })

};
;